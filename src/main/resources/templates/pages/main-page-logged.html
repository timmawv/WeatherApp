<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>WeatherApp</title>
    <link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/512/439/439842.png"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="/WeatherApp-1.0/styles/css/main-page.css"/>
    <link type="text/css" rel="stylesheet" href="/WeatherApp-1.0/styles/css/weather.css"/>
</head>
<body>

<header th:insert="~{fragment/header :: header}"></header>

<main>
    <div th:if="${weatherList.size() != 0}" class="container">
        <div class="forecast_wrapper">
            <div class="forecast" th:if="${weatherList}" th:each="weather : ${weatherList}">
                <h1 th:text="${weather.getCity()} + ', ' + ${weather.getCountry()}"></h1>
                <form id="addForecast">
                    <input type="hidden" id="latitudeId" name="latitude" th:value="${weather.getLatitude()}">
                    <input type="hidden" id="longitudeId" name="longitude" th:value="${weather.getLongitude()}">
                    <input type="hidden" id="cityNameId" name="cityName" th:value="${weather.getCity()}">
                    <input type="hidden" id="userId" name="userId" th:value="${login.getUserId()}">
                </form>
                <h3 th:text="${weather.getMainWeather()}"></h3>
                <img th:src="${weather.getUrlIconWeather()}" alt="weather icon">
                <div class="weather_wind">
                    <div class="weather">
                        <h3>Weather</h3>
                        <p th:text="'Detailed weather: ' + ${weather.getDetailedWeather()}"></p>
                        <p th:text="'Temperature now: ' + ${weather.getTemperatureWeather()}"></p>
                        <p th:text="'Min temperature: ' + ${weather.getMinTemperatureWeather()}"></p>
                        <p th:text="'Max temperature: ' + ${weather.getMaxTemperatureWeather()}"></p>
                        <p th:text="'Feels like: ' + ${weather.getFeelsLikeWeather()}"></p>
                        <p th:text="'Humidity: ' + ${weather.getHumidityWeather()}"></p>
                    </div>
                    <div class="wind">
                        <h3>Wind</h3>
                        <p th:text="'Wind speed: ' + ${weather.getWindSpeedWeather()}"></p>
                        <p th:text="'Visibility: ' + ${weather.getVisibilityKilometersWeather()}"></p>
                    </div>
                    <div>
                        <h3>Solar cycle</h3>
                        <p th:text="'Current time in region: ' + ${weather.getCurrentTimeWeather()}"></p>
                        <img width="40px" height="40px" src="https://cdn-icons-png.flaticon.com/512/1163/1163765.png"
                             alt="sunrise "> <span th:text="${weather.getSunriseWeather()}"></span><br>
                        <img width="40px" height="40px" src="https://cdn-icons-png.flaticon.com/512/3920/3920799.png"
                             alt="sunset ">
                        <span th:text="${weather.getSunsetWeather()}"></span>
                    </div>
                    <div>
                        <h3>City info</h3>
                        <p th:text="'Country: ' + ${weather.getCountry()}"></p>
                        <p th:if="${weather.getState() != null}" th:text="'State: ' + ${weather.getState()}"></p>
                        <p th:text="'City: ' + ${weather.getCity()}"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div th:if="${weatherList.size() == 0}" class="wrapper_sign">
        <h1>You didn't save any locations...</h1>
    </div>

</main>

<div th:insert="~{fragment/footer :: footer}"></div>

</body>
</html>